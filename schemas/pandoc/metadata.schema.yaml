$schema: https://json-schema.org/draft/2020-12/schema
$id: /devsforge/schemas/refs/heads/main/schemas/pandoc/metadata.schema.yaml
$comment: |
  seealso:: https://json-schema.org/understanding-json-schema/about
  seealso:: https://pandoc.org/MANUAL.html#variables

title: Pandoc Metadata
# TODO: add schema description
description: |
  ...TBD

$defs:
  author:
    type: object
    properties:
      name:
        description: Author's name
        type: string
        minLength: 2
      affiliation:
        description: Author's affilication
        type: string
    required:
      - name

type: object
additionalProperties: false
patternProperties:
  "^\\$schema$":
    type: string
properties:
  # Metadata variables
  # noinspection YAMLSchemaValidation
  title:
    description: |
      Document title.
    type: string
  subtitle:
    description: |
      Document subtitle.
      Included in HTML, EPUB, LaTeX, ConTeXt, and docx documents
    type: string
  author:
    description: |
      Document author(s).
    oneOf:
      - $ref: "#/$defs/author"
      - $ref: "#/$defs/author/properties/name"
      - type: array
        minItems: 1
        items:
          oneOf:
            - $ref: "#/$defs/author"
            - $ref: "#/$defs/author/properties/name"
  abstract-title:
    description: |
      Title of abstract, currently used only in HTML, EPUB, and docx.
    type: string
  abstract:
    deprecated: true
    $comment: |
      Use "front matter" instead of a metadata file.
    description: |
      Document summary.
      Included in HTML, LaTeX, ConTeXt, AsciiDoc, and docx documents
    type: string
  # noinspection YAMLSchemaValidation
  description:
    description: |
      Document description.
      Included in ODT, docx and pptx metadata.
      Some applications show this as Comments metadata.
    type: string
  category:
    description: |
      Document category.
      Included in docx and pptx metadata.
    type: string
  keywords:
    description: |
      The list of keywords to be included in HTML, PDF, ODT, pptx, docx and AsciiDoc metadata.
    oneOf:
      - type: string
      - type: array
        items:
          type: string
  # Language variables
  lang:
    description: |
      Identifies the main language of the document using IETF language tags.
    type: string
  dir:
    description: |
      The base script direction, either rtl (right-to-left) or ltr (left-to-right).
    enum:
      - ltr
      - rtl
  # Citation rendering
  csl:
    description: |
      The Citation Style Language file or URL. Defines the citation styling.
    type: string
  bibliography:
    description: |
      The bibliography file.
    type: string
required:
  - title
  - author
